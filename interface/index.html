<html>
	<head>
	<meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto:300,400,500,700,400italic">
		<link rel="stylesheet" href="//fonts.googleapis.com/icon?family=Material+Icons">
		
		<link rel="stylesheet" href="/node_modules/vue-material/dist/vue-material.css">
		<script data-main="main" src="/node_modules/requirejs/require.js"></script>
<style>
html,
body,
.app-viewport {
  height: 100%;
  overflow: hidden;
}

.app-viewport {
  display: flex;
  flex-flow: column;
}

.md-fab {
  margin: 0;
  position: absolute;
  bottom: -20px;
  left: 16px;
  
  .md-icon {
    color: #fff;
  }
}

.md-title {
  padding-left: 8px;
  color: #fff;
}

.md-list {
  overflow: auto;
}

.md-list-action .md-icon {
  color: rgba(#000, .26);
}

.md-avatar-icon .md-icon {
  color: #fff !important;
}

.md-sidenav .md-list-text-container > :nth-child(2) {
  color: rgba(#fff, .54);
}

.md-account-header {
  .md-list-item:hover .md-button:hover {
    background-color: inherit;
  }

  .md-avatar-list .md-list-item-container:hover {
    background: none !important;
  }
}
/*ajustes*/
.md-toolbar.md-large{min-height: 80px;}
.md-toolbar.md-large .md-toolbar-container:nth-child(2) .md-title:first-child {margin-left: 0px;}
</style>
</head>
<body>

<div class="app-viewport" id="file-list">
  <md-sidenav class="md-left md-fixed" ref="sidebar">
    <md-toolbar class="md-account-header">
      <md-list class="md-transparent">
        <md-list-item class="md-avatar-list">
          <md-avatar class="md-large">
            <img src="imgs/logo.png" alt="People">
          </md-avatar>
  
          <span style="flex: 1"></span>
  
         
        </md-list-item>
  
        <md-list-item>
          <div class="md-list-text-container">
            <span>{{strs.brand}}</span>
            <span>{{strs.brandDesc}}</span>
          </div>
  
          <!-- <md-button class="md-icon-button md-list-action">
            <md-icon>arrow_drop_down</md-icon>
          </md-button> -->
        </md-list-item>
      </md-list>
    </md-toolbar>
  
    <md-list>
      <md-list-item @click="$refs.sidebar.toggle()" class="md-primary">
        <md-icon>settings</md-icon> <span>OPCIONES DE CONTROL</span>
      </md-list-item>
  
      <md-list-item @click="$refs.sidebar.toggle()" v-on:click="startNewFerm">
        <md-icon>add_circle</md-icon> <span>Nueva fermentacion</span>
      </md-list-item>
	  
	  <md-list-item @click="$refs.sidebar.toggle()" v-on:click="getActiveFerms()">
        <md-icon>home</md-icon> <span>Fermentaciones activas</span>
      </md-list-item>
  
      <md-list-item @click="$refs.sidebar.toggle()" v-on:click="getArchivedFerms()">
        <md-icon>restore</md-icon> <span>Fermentaciones archivadas</span>
      </md-list-item>

      <md-list-item @click="$refs.sidebar.toggle()" v-on:click="editProfiles()">
        <md-icon>show_chart</md-icon> <span>Editar perfiles</span>
      </md-list-item>	  
    </md-list>
  </md-sidenav>
  
	<md-whiteframe md-elevation="3">
		<md-toolbar class="md-large">
		  <div class="md-toolbar-container">
			<md-button class="md-icon-button" @click="$refs.sidebar.toggle()">
			  <md-icon>menu</md-icon>
			</md-button>
			 <div class="md-toolbar-container">
				<h2 class="md-title">{{strs.headerTitle}}</h2>
			  </div>
			<span style="flex: 1"></span>
		  </div>
		 
		</md-toolbar>
	</md-whiteframe>
  
	<md-list v-if="viewList" class="md-double-line">
    <md-subheader class="md-inset">Fermentaciones activas</md-subheader>
		<md-list-item v-for="frm in fermentadores"  >
		  <md-avatar class="md-avatar-icon md-primary">
			<md-icon>delete_sweep</md-icon>
		  </md-avatar>
			<div class="md-list-text-container">
				<span>Fermentador {{frm.tanque_code}}</span>
				<p>Tipo: {{frm.nombre_fermentacion}}, {{frm.total_hours}}/{{frm.duration}}hs</p>
				<p>Perf: {{frm.profile}}, Temp: <b>{{frm.currentTemp}}</b>/{{frm.progTemp}} ºC</p>
			</div>
			<md-menu md-size="4">
				<md-button class="md-icon-button" md-menu-trigger>
					<md-icon>more_vert</md-icon>
				</md-button>
				<md-menu-content>
					<md-menu-item v-on:click="viewFermentacion(frm.id)">
						<md-icon>timeline</md-icon>
						<span>Ver detalles</span>
					</md-menu-item>

					<md-menu-item v-on:click="manageFerm(frm.id,'archivar')">
						<md-icon>assignment_returned</md-icon>
						<span>Archivar</span>
					</md-menu-item>

					<md-menu-item v-on:click="manageFerm(frm.id,'delete')">
						<md-icon>delete</md-icon>
						<span>Eliminar</span>
					</md-menu-item>
				</md-menu-content>
			</md-menu>
		</md-list-item>
	</md-list>
	
	<md-list v-if="viewListAchived" class="md-double-line">
		<md-subheader class="md-inset">Fermentaciones archivadas</md-subheader>
		<md-list-item v-for="frm in fermentadores"  >
		  <md-avatar class="md-avatar-icon md-primary">
			<md-icon>content_paste</md-icon>
		  </md-avatar>
			<div class="md-list-text-container">
				<span>Fermentador {{frm.tanque_code}}</span>
				<p>Tipo: {{frm.nombre_fermentacion}}, {{frm.duration}}hs</p>
				<p>Perf: {{frm.profile}}, Temp promedio: {{frm.promTemp}} ºC</p>
			</div>
			<md-menu md-size="4">
				<md-button class="md-icon-button" md-menu-trigger>
					<md-icon>more_vert</md-icon>
				</md-button>
				<md-menu-content>
					<md-menu-item v-on:click="viewFermentacion(frm.id)">
						<md-icon>timeline</md-icon>
						<span>Ver detalles</span>
					</md-menu-item>

					<md-menu-item v-on:click="manageFerm(frm.id,'delete')">
						<md-icon>delete</md-icon>
						<span>Eliminar</span>
					</md-menu-item>
				</md-menu-content>
			</md-menu>
		</md-list-item>
	</md-list>
	 
	<form v-if="viewAddNew" @submit.prevent="doThis" novalidate @submit.stop.prevent="submit" >
	  <md-input-container>
		<label>Nombre de la fermentacion</label>
		<md-input v-model="fermModel.nombre"></md-input>
	  </md-input-container>
	  <md-input-container>
		<label for="tanque">Tanque</label>
		<md-select name="tanque" id="tanque" v-model="fermModel.tanque">
			<md-option v-for="tnq in tanques" :value="tnq.id">{{tnq.descripcion}}</md-option>
		</md-select>
	  </md-input-container>
		<md-input-container>
		<label for="perfil">Perfil</label>
		<md-select name="perfil" id="perfil" v-model="fermModel.perfil">
			<md-option v-for="prf in profiles" :value="prf.id">{{prf.nombre}}</md-option>
		</md-select>
	  </md-input-container>
	  <md-button class="md-raised md-primary" v-on:click="createFerm" >CREAR AHORA</md-button>
  
	</form>
	<md-tabs md-fixed v-if="viewFerm">
	  <md-tab id="grafico" md-label="Grafico" >
			<md-subheader class="md-inset">Grafico progresion temperatura</md-subheader>
			<object  v-bind:data="'/getSvg.svg?id=' + fermSel.id " type="image/svg+xml" style="overflow-x:scroll;"></object>
	  </md-tab>
	  <md-tab id="detalles" md-label="Detalles">
		<md-subheader class="md-inset">que ondaaaa</md-subheader>
		<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Deserunt dolorum quas amet cum vitae, omnis! Illum quas voluptatem, expedita iste, dicta ipsum ea veniam dolore in, quod saepe reiciendis nihil.</p>
	  </md-tab>
	</md-tabs>
	

	<md-list v-if="viewProfiles">
    <md-list-item v-for="prf in profiles">
      <md-icon>folder</md-icon>
      <md-input-container>
		<label>Nombre del perfil</label>
		<md-input v-model="prf.nombre"></md-input>
	  </md-input-container>

      <md-list-expand>
        <md-list>
          <md-list-item class="md-inset">
		   <md-input-container>
			<label>Horas de duracion</label>
			<md-input v-model="prf.duration"></md-input>
		  </md-input-container>
		  </md-list-item>
          <md-list-item class="md-inset">
		  <md-icon>broken_image</md-icon>
		  <label>Mapa de temperatura</label>
				<md-list-expand>
					<md-list>
						<md-list-item class="md-inset" v-for="mp in prf.mapa">
							{{mp.temp}}
						</md-list-item>
				</md-list-expand>
		  </md-list-item>
        </md-list>
      </md-list-expand>
    </md-list-item>

  </md-list>
	</div>
 
 
</div>

</body>
</html>